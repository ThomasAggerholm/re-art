{% assign p = product %}

<div class="product-card {{ class }}">
    <a href="{{ p.url | within: collection }}">
        <div class="product-card__image-wrapper">
            <img class="product-card__image one" src="{{ p.featured_image | img_url: 'medium' }}" alt="{{ p.featured_image.alt }}">
            {% if p.images.size > 1 %}
                {% for image in p.images %}
                    {% if forloop.index == 2 %}
                        <img class="product-card__image two" src="{{ image | img_url: 'medium' }}">
                    {% endif %}
                {% endfor %}
            {% else %}
                <img class="product-card__image two" src="{{ p.featured_image | img_url: 'medium' }}" alt="{{ p.featured_image.alt }}">
            {% endif %}
        </div>
    </a>
    <div class="product-card__info">
        <h3 class="product-card__title">
            <a href="{{ p.url }}">{{ p.title | truncate: 20, '...' }}</a>
        </h3>
        <span class="product-card__price">{{ p.price | money_without_trailing_zeros }}</span>
    </div>
</div>